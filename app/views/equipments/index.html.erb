<div ng-controller="EquipmentsCtrl">
  <div class="row">
    <div class="col-xs-12">
      <h1 class="page-header m-t-8 hidden-print">
        Equipamentos
      </h1>
      <h4 class="visible-print m-t-8">
        Relatório de Equipamentos
      </h4>
    </div>
  </div>

  <div class="row hidden-print">
    <div class="col-xs-12">
      <% if @all_equipment.length > 0 %>
        <div class="alert hidden-print alert-info alert-dismissable">
          <i class="fa fa-info-circle"></i>  Clique no nome do Equipamento que deseja alterar
        </div>
      <% end %>

      <% if flash[:notice] %>
        <div class="alert hidden-print alert-success fade in out">
          <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
          <i class="fa fa-check-circle"></i> <%= flash[:notice] %>
        </div>
      <% end %>

      <% if @all_equipment.length == 0 %>
        <div class="alert hidden-print alert-warning">
          <i class="fa fa-warning"></i> Você não tem nenhum Equipamento cadastrado
        </div>
      <% end %>

    </div>
  </div>

  <div class="row m-b-20 hidden-print">
    <div class="col-xs-2 pull-left">
      <button class="btn btn-primary" ng-click="print();">
        <i class="fa fa-print"></i>
      </button>
    </div>

    <div class="col-xs-5 text-left">
      Mostrar Ocultos
      <input bs-switch ng-model="showHidden"
      type="checkbox" switch-on-text="SIM"
      switch-off-text="NÃO" switch-change="initializeTable()">
    </div>

    <div class="col-xs-5">
      <%= link_to new_equipment_path, class: "btn btn-success btn-md pull-right" do %>
        <i class="fa fa-plus-square-o"></i> Novo Equipamento
      <% end %>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <% if @all_equipment.length > 0 %>
      <div class="table-responsive">
        <table ng-table="ngTableParams" class="table table-bordered  table-hover" show-filter="true">
          <tr ng-repeat="row in $data">
            <td ng-click="go('equipments', row.id)" class="pointer"  data-title="'Descrição'" sortable="'description'" header-class="'bg-black c-white pointer'" data-filter="{description: 'text'}">
              <span class="c-blue f-700">{{row.description}}</span>
            </td>
            <td data-title="'Modelo'" sortable="'model'" header-class="'bg-black c-white pointer'" data-filter="{model: 'text'}">
              {{row.model}}
            </td>
            <td data-title="'Criado em'" sortable="'created_at'" header-class="'bg-black c-white pointer w-35'" data-filter="{created_at: 'text'}">
              {{row.created_at_date_for_json}}
            </td>
          </tr>
        </table>
      </div>
      <% end %>
    </div>
  </div>
</div>
